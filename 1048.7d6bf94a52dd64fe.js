"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1048],{1048:(q,_,u)=>{u.r(_),u.d(_,{UploadPage:()=>b});var d=u(467),p=u(2200),s=u(9420),c=u(9417),r=u(4262),n=u(3664),a=u(8728);function m(l,g){if(1&l){const e=n.RV6();n.j41(0,"div",10)(1,"p"),n.EFF(2,"Upload Image Question"),n.k0s(),n.j41(3,"input",11),n.bIt("change",function(t){a.eBV(e);const i=n.XpG();return a.Njj(i.onFileSelected(t))}),n.k0s(),n.j41(4,"ion-button",12),n.bIt("click",function(){a.eBV(e);const t=n.XpG();return a.Njj(t.uploadFile())}),n.EFF(5,"Upload"),n.k0s()()}}function h(l,g){if(1&l){const e=n.RV6();n.j41(0,"div",10)(1,"p"),n.EFF(2,"Upload Image Poll Question"),n.k0s(),n.j41(3,"input",11),n.bIt("change",function(t){a.eBV(e);const i=n.XpG();return a.Njj(i.onFileSelected(t))}),n.k0s(),n.j41(4,"ion-button",12),n.bIt("click",function(){a.eBV(e);const t=n.XpG();return a.Njj(t.uploadFile())}),n.EFF(5,"Upload"),n.k0s()()}}function x(l,g){if(1&l){const e=n.RV6();n.j41(0,"div")(1,"ion-card",13)(2,"ion-card-header",1)(3,"ion-card-title"),n.EFF(4,"Create Quiz Question"),n.k0s()(),n.j41(5,"ion-card-content")(6,"ion-item",14)(7,"ion-label",15),n.EFF(8,"Enter Question"),n.k0s(),n.j41(9,"ion-input",16),n.mxI("ngModelChange",function(t){a.eBV(e);const i=n.XpG();return n.DH7(i.quizQuestion.question,t)||(i.quizQuestion.question=t),a.Njj(t)}),n.k0s()(),n.j41(10,"ion-item",17)(11,"ion-label",15),n.EFF(12,"Option 1"),n.k0s(),n.j41(13,"ion-input",16),n.mxI("ngModelChange",function(t){a.eBV(e);const i=n.XpG();return n.DH7(i.quizQuestion.option1,t)||(i.quizQuestion.option1=t),a.Njj(t)}),n.k0s()(),n.j41(14,"ion-item",17)(15,"ion-label",15),n.EFF(16,"Option 2"),n.k0s(),n.j41(17,"ion-input",16),n.mxI("ngModelChange",function(t){a.eBV(e);const i=n.XpG();return n.DH7(i.quizQuestion.option2,t)||(i.quizQuestion.option2=t),a.Njj(t)}),n.k0s()(),n.j41(18,"ion-item",17)(19,"ion-label",15),n.EFF(20,"Option 3"),n.k0s(),n.j41(21,"ion-input",16),n.mxI("ngModelChange",function(t){a.eBV(e);const i=n.XpG();return n.DH7(i.quizQuestion.option3,t)||(i.quizQuestion.option3=t),a.Njj(t)}),n.k0s()(),n.j41(22,"ion-item",17)(23,"ion-label",15),n.EFF(24,"Option 4"),n.k0s(),n.j41(25,"ion-input",16),n.mxI("ngModelChange",function(t){a.eBV(e);const i=n.XpG();return n.DH7(i.quizQuestion.option4,t)||(i.quizQuestion.option4=t),a.Njj(t)}),n.k0s()(),n.j41(26,"ion-item",18)(27,"ion-label",15),n.EFF(28,"Answer"),n.k0s(),n.j41(29,"ion-input",16),n.mxI("ngModelChange",function(t){a.eBV(e);const i=n.XpG();return n.DH7(i.quizQuestion.answer,t)||(i.quizQuestion.answer=t),a.Njj(t)}),n.k0s()(),n.j41(30,"ion-accordion-group")(31,"ion-accordion")(32,"ion-item",19)(33,"ion-label"),n.EFF(34,"Explanation"),n.k0s()(),n.j41(35,"div",20)(36,"ion-item",21)(37,"ion-label",15),n.EFF(38,"Heading"),n.k0s(),n.j41(39,"ion-input",16),n.mxI("ngModelChange",function(t){a.eBV(e);const i=n.XpG();return n.DH7(i.quizQuestion.explanationHeading,t)||(i.quizQuestion.explanationHeading=t),a.Njj(t)}),n.k0s()(),n.j41(40,"ion-item",21)(41,"ion-label",15),n.EFF(42,"Details"),n.k0s(),n.j41(43,"ion-textarea",16),n.mxI("ngModelChange",function(t){a.eBV(e);const i=n.XpG();return n.DH7(i.quizQuestion.explanationDetails,t)||(i.quizQuestion.explanationDetails=t),a.Njj(t)}),n.k0s()()()()(),n.j41(44,"ion-button",12),n.bIt("click",function(){a.eBV(e);const t=n.XpG();return a.Njj(t.uploadQuiz())}),n.EFF(45,"Upload Quiz"),n.k0s()()()()}if(2&l){const e=n.XpG();n.R7$(9),n.R50("ngModel",e.quizQuestion.question),n.R7$(4),n.R50("ngModel",e.quizQuestion.option1),n.R7$(4),n.R50("ngModel",e.quizQuestion.option2),n.R7$(4),n.R50("ngModel",e.quizQuestion.option3),n.R7$(4),n.R50("ngModel",e.quizQuestion.option4),n.R7$(4),n.R50("ngModel",e.quizQuestion.answer),n.R7$(10),n.R50("ngModel",e.quizQuestion.explanationHeading),n.R7$(4),n.R50("ngModel",e.quizQuestion.explanationDetails)}}let b=(()=>{class l{constructor(e,o){this.firestore=e,this.toastController=o,this.selectedSegment="image",this.questionText="",this.file=null,this.quizQuestion={question:"",option1:"",option2:"",option3:"",option4:"",answer:"",explanationHeading:"",explanationDetails:""}}segmentChanged(e){this.selectedSegment=e.detail.value}onFileSelected(e){this.file=e.target.files[0]}uploadFile(){var e=this;return(0,d.A)(function*(){if(e.file)try{const o=(0,r.rJ)(e.firestore,"questions");yield(0,r.gS)(o,{type:e.selectedSegment,fileName:e.file.name,createdAt:new Date}),e.showToast("\u2705 File metadata saved to Firestore!","success"),e.file=null}catch{e.showToast("\u274c Upload failed. Try again.","danger")}else e.showToast("\u26a0\ufe0f Please select a file first.","warning")})()}uploadQuestion(){var e=this;return(0,d.A)(function*(){if(e.questionText.trim())try{const o=(0,r.rJ)(e.firestore,"questions");yield(0,r.gS)(o,{type:e.selectedSegment,questionText:e.questionText,createdAt:new Date}),e.showToast("\u2705 Question saved successfully!","success"),e.questionText=""}catch{e.showToast("\u274c Save failed. Please try again.","danger")}else e.showToast("\u26a0\ufe0f Please enter question text.","warning")})()}uploadQuiz(){var e=this;return(0,d.A)(function*(){if(e.quizQuestion.question.trim()&&e.quizQuestion.option1.trim()&&e.quizQuestion.option2.trim()&&e.quizQuestion.option3.trim()&&e.quizQuestion.option4.trim()&&e.quizQuestion.answer.trim())try{const o=(0,r.rJ)(e.firestore,"questions");yield(0,r.gS)(o,{type:"quiz",question:e.quizQuestion.question,options:[e.quizQuestion.option1,e.quizQuestion.option2,e.quizQuestion.option3,e.quizQuestion.option4],answer:e.quizQuestion.answer,explanation:{heading:e.quizQuestion.explanationHeading,details:e.quizQuestion.explanationDetails},createdAt:new Date}),e.showToast("\u{1f389} Quiz uploaded successfully!","success"),e.quizQuestion={question:"",option1:"",option2:"",option3:"",option4:"",answer:"",explanationHeading:"",explanationDetails:""}}catch{e.showToast("\u274c Quiz upload failed.","danger")}else e.showToast("\u26a0\ufe0f Please fill all quiz fields.","warning")})()}showToast(e){var o=this;return(0,d.A)(function*(t,i="primary"){yield(yield o.toastController.create({message:t,duration:2500,position:"bottom",color:i,cssClass:"custom-toast"})).present()}).apply(this,arguments)}static#n=this.\u0275fac=function(o){return new(o||l)(n.rXU(r._7),n.rXU(s.K_))};static#e=this.\u0275cmp=n.VBU({type:l,selectors:[["app-upload"]],decls:19,vars:4,consts:[["color","transparent",1,"upload-toolbar"],[1,"ion-text-center"],[1,"upload-content","ion-padding"],["scrollable","true","value","image",1,"custom-segment",3,"ionChange"],["value","image"],["value","imagepoll"],["value","quiz"],[3,"ngSwitch"],["class","upload-card",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"upload-card"],["type","file",1,"file-input",3,"change"],["expand","full",1,"upload-btn",3,"click"],[1,"quiz-card"],["lines","none",1,"question-item"],["position","stacked"],[3,"ngModelChange","ngModel"],["lines","none",1,"option-item"],["lines","none",1,"answer-item"],["slot","header","color","light"],["slot","content",1,"ion-padding"],["lines","none"]],template:function(o,t){1&o&&(n.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),n.EFF(3,"Upload Question"),n.k0s()()(),n.j41(4,"ion-content",2)(5,"ion-segment",3),n.bIt("ionChange",function(f){return t.segmentChanged(f)}),n.j41(6,"ion-segment-button",4)(7,"ion-label"),n.EFF(8,"Image"),n.k0s()(),n.j41(9,"ion-segment-button",5)(10,"ion-label"),n.EFF(11,"Image Poll"),n.k0s()(),n.j41(12,"ion-segment-button",6)(13,"ion-label"),n.EFF(14,"Quiz"),n.k0s()()(),n.j41(15,"div",7),n.DNE(16,m,6,0,"div",8)(17,h,6,0,"div",8)(18,x,46,8,"div",9),n.k0s()()),2&o&&(n.R7$(15),n.Y8G("ngSwitch",t.selectedSegment),n.R7$(),n.Y8G("ngSwitchCase","image"),n.R7$(),n.Y8G("ngSwitchCase","imagepoll"),n.R7$(),n.Y8G("ngSwitchCase","quiz"))},dependencies:[s.bv,s.xk,s.YH,s.Jm,s.b_,s.I9,s.ME,s.tN,s.W9,s.eU,s.$w,s.uz,s.he,s.Gp,s.eP,s.nc,s.BC,s.ai,s.Je,s.Gw,p.MD,p.ux,p.e1,c.YN,c.BC,c.vS],styles:[".upload-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #a8e063, #56ab2f);color:#333}.upload-toolbar[_ngcontent-%COMP%]{--background: transparent;color:#fff;font-weight:700}.custom-segment[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .3);--indicator-color: #ffffff;margin-bottom:20px;border-radius:10px;padding:5px}ion-segment-button[_ngcontent-%COMP%]{color:#fff;font-weight:600;text-transform:capitalize}.upload-card[_ngcontent-%COMP%]{background:#ffffffd9;border-radius:15px;padding:20px;box-shadow:0 6px 20px #00000026;text-align:center;color:#2e7d32}.file-input[_ngcontent-%COMP%]{margin:10px 0}.upload-btn[_ngcontent-%COMP%]{--background: #43a047;--background-activated: #43a047;--background-focused: #43a047;--color: #fff;--border-radius: 12px;font-weight:600;text-transform:none;box-shadow:0 4px 10px #43a04766}.quiz-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:18px;box-shadow:0 8px 25px #00000026}.question-item[_ngcontent-%COMP%]{--background: #f1f8e9;--color: #33691e;border-radius:8px;margin-bottom:10px}.option-item[_ngcontent-%COMP%]{--background: #fffde7;--color: #827717;border-radius:8px;margin-bottom:10px}.answer-item[_ngcontent-%COMP%]{--background: #e8f5e9;--color: #2e7d32;border-radius:8px;margin-bottom:10px}.custom-toast[_ngcontent-%COMP%]{--background: #43a047;--color: #fff;font-weight:600;text-align:center;border-radius:12px;font-size:15px;box-shadow:0 4px 12px #00000040}"]})}return l})()}}]);